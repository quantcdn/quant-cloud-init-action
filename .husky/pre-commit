# Skip if this is a dist update commit
if git log -1 --pretty=%B | grep -q "chore: update dist"; then
  echo "â­ï¸ Skipping pre-commit for dist update"
  exit 0
fi

echo "ğŸ”¨ Running build..."
npm run build

echo "ğŸ“¦ Staging dist..."
git add dist/

# Check if dist directory has changes
if git diff --cached --name-only | grep -q "^dist/"; then
  echo "âœ… Changes detected in dist/, committing..."
else
  echo "â„¹ï¸ No changes in dist/, skipping commit."
fi